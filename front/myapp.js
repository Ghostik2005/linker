!function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/codebase/",e(e.s=22)}([function(t,e,n){"use strict";var o=n(24);n.d(e,"a",function(){return o.a});var r=n(1);n.d(e,"b",function(){return r.a});var i=(n(17),n(30),n(31));n.d(e,"c",function(){return i.a});var s=(n(32),n(33)),a=n(34),u=n(37),c=n(38),f=n(39),l=n(40);s.a,a.a,u.a,f.a,l.a,c.a;window.Promise||(window.Promise=webix.promise)},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.d(e,"a",function(){return u});var s=n(15),a=n(16),u=function(t){function e(n,i){o(this,e);var s=r(this,t.call(this));return s.app=n,s._name=i,s._children=[],s}return i(e,t),e.prototype.ui=function(t,e){if("function"==typeof t){var n=new t(this.app,e);return this._children.push(n),n.render(),n}var o=this.app.webix.ui(t);return this._children.push(o),o},e.prototype.show=function(t,e){var n=this;if("string"==typeof t){if("/"===t.substr(0,1))return this.app.show(t);if(0===t.indexOf("./")&&(t=t.substr(2)),0===t.indexOf("../")){var o=this.getParentView();return void(o?o.show("./"+t.substr(3)):this.app.show("/"+t.substr(3)))}var r=this.getSubView();if(!r)return this.app.show("/"+t);if(r.parent!==this)return r.parent.show(t,e);var i=Object(a.a)(t),s=null,u=this.app.getRouter().get();if(this._index){s=Object(a.a)(u).slice(0,this._index).concat(i);for(var c=0;c<s.length;c++)s[c].index=c+1;var f=Object(a.b)(s);this.app.canNavigate(f,this).then(function(t){f!==t?n.app.show(t):n._finishShow(r.subview,s,t)}).catch(function(){return!1})}else this._finishShow(r.subview,i,"")}},e.prototype.init=function(t,e){},e.prototype.ready=function(t,e){},e.prototype.config=function(){this.app.webix.message("View:Config is not implemented")},e.prototype.urlChange=function(t,e){},e.prototype.destroy=function(){},e.prototype.destructor=function(){this.destroy();for(var e=this._children,n=e.length-1;n>=0;n--)e[n]&&e[n].destructor&&e[n].destructor();this.app=this._children=null,this._root.destructor(),t.prototype.destructor.call(this)},e.prototype.use=function(t,e){t(this.app,this,e)},e.prototype._render=function(t){var e=this,n=this.config();return n.then?n.then(function(n){return e._render_final(n,t)}):this._render_final(n,t)},e.prototype._render_final=function(t,e){var n=this,o=void 0,r={ui:{}};this.app.copyConfig(t,r.ui,this._subs),this.app.callEvent("app:render",[this,e,r]),r.ui.$scope=this;try{this._root=this.app.webix.ui(r.ui,this._container),this._root.getParentView()&&(this._container=this._root),this._init(this._root,e),o=this._urlChange(e).then(function(){return n.ready(n._root,e)})}catch(t){o=Promise.reject(t)}return o.catch(function(t){return n._initError(n,t)})},e.prototype._init=function(t,e){return this.init(t,e)},e.prototype._urlChange=function(t){var e=this,n=[];for(var o in this._subs){var r=this._subs[o];if(r.url)if("string"==typeof r.url){var i=Object(a.a)(r.url);n.push(this._createSubView(r,i))}else{var s=r.view;"function"!=typeof r.url||s instanceof r.url||(s=new r.url(this.app,"")),s||(s=r.url),n.push(this._renderSubView(r,s,t))}else if("default"===o&&t&&t.length>1){var u=t.slice(1);n.push(this._createSubView(r,u))}}return Promise.all(n).then(function(){e.urlChange(e._root,t)})},e.prototype._initError=function(t,e){return this.app.error("app:error:initview",[e,t]),!0},e.prototype._createSubView=function(t,e){var n=this;return this.app.createFromURL(e,t.view).then(function(o){return n._renderSubView(t,o,e)})},e.prototype._renderSubView=function(t,e,n){var o=this.app.webix.$$(t.id);return e.render(o,n,this).then(function(n){return t.view&&t.view!==e&&t.view.destructor(),t.view=e,t.id=n.config.id,n})},e.prototype._finishShow=function(t,e,n){this._index?(this._urlChange(e.slice(this._index-1)),this.app.getRouter().set(n,{silent:!0}),this.app.callEvent("app:route",[e])):this._createSubView(t,e)},e}(s.a)},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),a=n(3),u=n(5),c=n(6),f=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.config=function(){var t=this;return{rows:[{view:"toolbar",height:40,cols:[{view:"combo",width:250},{},{view:"button",id:"_links",type:"htmlbutton",label:"<span class='webix_icon fa-stumbleupon'></span><span style='line-height: 20px;'> Связки (Ctrl+L)</span>",width:150,click:function(){t.poplinks.show("Линки")}}]},{view:"toolbar",css:"header",rows:[{cols:[{view:"label",label:"<a href='http://ms71.org'><span>Название препарата</span></a>"},{},{view:"label",label:"<span style='color: #666666;'>Осталось свести: </span><span style='color: red; font-weight: bold;'>13</span>",css:"right"}]},{view:"label",label:"Россия",css:"header"}]},{view:"toolbar",height:40,cols:[{view:"text",label:"",value:"",labelWidth:1},{view:"button",type:"htmlbutton",label:"Добавить (Ins)",width:140,click:function(){t.popnew.show("Добавление в справочник")}},{view:"button",type:"htmlbutton",label:"<span class='webix_icon fa-link'></span><span style='line-height: 20px;'>  Объединить (Ctrl+Home)</span>",width:220,click:function(){t.popconfirm.show("Связать?")}},{view:"button",type:"htmlbutton",label:"<span class='webix_icon fa-angle-left'></span><span style='line-height: 20px;'>Ctrl+</span><span class='webix_icon fa-arrow-down'></span>",width:90},{view:"button",type:"htmlbutton",label:"Пропустить (Ctrl+M)",width:160,click:function(){t.popconfirm.show("Пропустить?")}},{view:"button",type:"htmlbutton",label:"<span style='line-height: 20px;'>Ctrl+</span><span class='webix_icon fa-arrow-up'></span><span class='webix_icon fa-angle-right'></span>",width:90}]}]}},e.prototype.init=function(){this.popconfirm=this.ui(c.default),this.popnew=this.ui(a.default),this.poplinks=this.ui(u.default)},e}(s.b);e.default=f},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),a=n(4),u=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.config=function(){var t=this;return{view:"cWindow",modal:!0,body:{view:"form",margin:0,elements:[{rows:[{view:"label",label:"Название товара:   Название 1"},{view:"text",label:"",value:"Название 1"},{height:10,width:600},{cols:[{rows:[{view:"label",label:"Страна:"},{view:"combo",value:"",width:400},{view:"label",label:"Производитель:Китай"},{cols:[{view:"combo",label:"",value:""},{view:"button",type:"base",label:"+",width:30,click:function(){t.popstri.show("Добавление производителя")}}]},{view:"label",label:"Действующее вещество:"},{cols:[{view:"combo",label:"",value:""},{view:"button",type:"base",label:"+",width:30,click:function(){t.popstri.show("Добавление д.вещества")}}]},{view:"textarea",label:"Описание:",labelPosition:"top",value:"",height:120}]},{width:5},{rows:[{view:"form",css:"borders",elements:[{view:"checkbox",labelRight:"Рецептурный",labelWidth:0,align:"left",name:"_prescr"},{view:"checkbox",labelRight:"Обязательный",labelWidth:0,align:"left",name:"_mandat"},{view:"combo",label:"Сезон:",labelPosition:"top",value:""},{view:"combo",label:"Условия хранения:",labelPosition:"top",value:""},{view:"combo",label:"Группа:",labelPosition:"top",value:""},{view:"combo",label:"НДС:",labelPosition:"top",value:""}]}]}]},{cols:[{view:"button",type:"base",label:"Нет",width:120,height:32,click:function(){webix.message("Очищаем форму и закрываем"),t.hide()}},{},{view:"button",type:"base",label:"Да (Enter)",width:120,height:32,click:function(){webix.message("Очищаем форму, отправляем данные на сервер и закрываем"),t.hide()}}]}]}],on:{onBeforeShow:function(){},onShow:function(){}}}}},e.prototype.show=function(t,e){e&&console.log(e),this.getRoot().getHead().getChildViews()[0].setValue(t),this.getRoot().show()},e.prototype.hide=function(){this.getRoot().hide()},e.prototype.init=function(){this.popstri=this.ui(a.default)},e}(s.b);e.default=u},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),a=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.config=function(){return{view:"cWindow",modal:!0,body:{view:"form",margin:0,elements:[{view:"text",label:"Название",value:"Ввод новой строки",width:320,name:"_new_str"},{cols:[{view:"button",type:"base",label:"Отменить",width:120},{},{view:"button",type:"base",label:"Сохранить",width:120}]}],on:{onBeforeShow:function(){},onShow:function(){}}}}},e.prototype.show=function(t){this.getRoot().getHead().getChildViews()[0].setValue(t),this.getRoot().show()},e.prototype.hide=function(){this.getRoot().hide()},e.prototype.getValues=function(){return this.getRoot().getBody().getValues()},e}(s.b);e.default=a},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),a=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.config=function(){function t(t,e,n){var o="<div>"+t.name;o=t.sprvendor?o+"<br>"+t.sprvendor+"</div>":o+"</div>";var r=e.treetable(t,e)+o;return console.log(r),r}var e=this;return{view:"cWindow",modal:!0,body:{view:"form",margin:0,elements:[{view:"form",margin:0,elements:[{rows:[{cols:[{view:"text",label:"",placeholder:"поиск",width:500},{view:"checkbox",labelRight:"Поиск по словарю",labelWidth:0},{view:"button",type:"htmlbutton",label:"<span class='webix_icon fa-unlink'></span><span style='line-height: 20px;'>  Разорвать (Ctrl+D)</span>",width:220}]},{height:10,width:900},{view:"treetable",scheme:{},height:550,footer:!0,borderless:!0,columns:[{id:"name",header:"Наименование",fillspace:!0,template:t},{id:"vendor",header:"Производитель",width:200},{id:"supplier",header:"Поставщик",width:150},{id:"code",header:"Код",width:75},{id:"date",header:"Дата",width:75},{id:"creater",header:"Создал",width:100}],select:!0,on:{onBeforeSelect:function(t){},onAfterSelect:function(){}},data:[{id:"1",name:"12345, Наименование препарата 1",sprvendor:"Производитель 1, Китай",data:[{id:"1.1",name:"Наименование поставщика 1",vendor:"Производитель 1",supplier:"Поставщик 1",code:"5588445",date:"12.12.2017",creater:"Пользователь"},{id:"1.2",name:"Наименование поставщика 2",vendor:"Производ 2",supplier:"Поставщик 1",code:"558812",date:"12.12.2017",creater:"Пользователь"}]}]},{cols:[{view:"button",type:"base",label:"Нет",width:120,height:32,click:function(){webix.message("Очищаем форму и закрываем"),e.hide()}},{},{view:"button",type:"base",label:"Да (Enter)",width:120,height:32,click:function(){webix.message("Очищаем форму, отправляем данные на сервер и закрываем"),e.hide()}}]}]}]}]}}},e.prototype.show=function(t){this.getRoot().getHead().getChildViews()[0].setValue(t),this.getRoot().show()},e.prototype.hide=function(){this.getRoot().hide()},e}(s.b);e.default=a},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),a=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.config=function(){var t,e=this;return{view:"cWindow",modal:!0,body:(t={view:"form",margin:0,on:{onShow:function(t){$$("_yes").focus()}},elements:[{height:66},{cols:[{view:"button",type:"base",label:"Нет",width:120,height:44,click:function(){webix.message("Очищаем форму и закрываем"),console.log(e.hide())}},{},{view:"button",type:"base",label:"Да (Enter)",width:120,height:44,id:"_yes",click:function(){webix.message("Очищаем форму, отправляем данные на сервер и закрываем"),console.log(e.hide())}}]}]},t.on={onBeforeShow:function(){},onShow:function(){}},t)}},e.prototype.show=function(t){this.getRoot().getHead().getChildViews()[0].setValue(t),this.getRoot().show()},e.prototype.hide=function(){this.getRoot().hide()},e.prototype.getValues=function(){return this.getRoot().getBody().getValues()},e}(s.b);e.default=a},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),a=n(3),u=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.config=function(){function t(t){var e=t.mnn;return"есть"===e&&(e="<div> <span class='green'>есть</span></div>"),"нет"===e&&(e="<div> <span class='red'>нет</span></div>"),e}var e=this;return{view:"datatable",id:"__dt",navigation:"row",select:!0,resizeColumn:!0,fixedRowHeight:!1,rowLineHeight:32,rowHeight:32,editable:!1,footer:!0,headermenu:!0,columns:[{id:"mnn",width:75,template:t,header:[{text:"МНН"}],footer:{text:"Всего:",colspan:5,rowspan:1,height:24}},{id:"idspr",width:80,sort:"int",header:[{text:"IDSPR"},{content:"textFilter"}]},{id:"name",fillspace:1,sort:"text",header:[{text:"Название"},{content:"textFilter"}]},{id:"vendor",sort:"text",width:400,header:[{text:"Производитель"},{content:"textFilter"}]},{id:"country",sort:"text",width:250,header:[{text:"Страна"},{content:"textFilter"}]}],on:{onItemDblClick:function(t){t=$$("__dt").getItem(t.row),e.popnew.show("Редактирование записи",t)}},data:[{mnn:"есть",idspr:"11223",name:"Название  препарата № 1",vendor:"завод - Производитель 1",country:"Россия"},{mnn:"нет",idspr:"21223",name:"Название  препарата № 2",vendor:"завод - Производитель 2",country:"Китай"}]}},e.prototype.init=function(){this.popnew=this.ui(a.default)},e}(s.b);e.default=u},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),a=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.config=function(){return{view:"toolbar",css:"header",cols:[{view:"label",label:"Вы находитесь на сервере:   saas",css:"ms-logo-text",height:36},{},{view:"button",type:"htmlbutton",width:32,label:"<span class='webix_icon fa-info', style='color: #666666;'></span>"}]}},e}(s.b);e.default=a},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),a=n(10),u=n(11),c=n(12),f=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.config=function(){return{view:"layout",rows:[{height:10},{margin:10,cols:[{$subview:c.default,name:"gr_right"},{$subview:a.default,name:"gr_center"},{$subview:u.default,name:"gr_left"}]}]}},e}(s.b);e.default=f},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),a=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.config=function(){return{rows:[{view:"toolbar",cols:[{view:"label",label:"Содержание группы"}]},{view:"toolbar",cols:[{view:"label",label:"Группа не выбрана"},{},{view:"button",type:"form",label:"Новая",width:100}]},{view:"datatable",navigation:"row",select:!0,resizeColumn:!0,fixedRowHeight:!1,rowLineHeight:32,rowHeight:32,editable:!1,footer:!0,headermenu:!0,columns:[{id:"idspr",sort:"int",width:75,header:[{text:"IDSPR"}]},{id:"mnn",fillspace:1,sort:"text",header:[{text:"Товар"}]},{id:"idspr",width:120,sort:"text",header:[{text:"Производитель"}]},{id:"name",width:100,sort:"text",header:[{text:"Страна"}]}]}]}},e}(s.b);e.default=a},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),a=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.config=function(){return{rows:[{view:"toolbar",cols:[{view:"label",label:"Группы"}]},{view:"toolbar",cols:[{view:"text",value:""}]},{view:"datatable",navigation:"row",select:!0,resizeColumn:!0,fixedRowHeight:!1,rowLineHeight:32,rowHeight:32,editable:!1,footer:!0,headermenu:!0,columns:[{id:"idspr",sort:"int",width:75,header:[{text:"IDSPR"}]},{id:"mnn",fillspace:1,sort:"text",header:[{text:"Товар"}]},{id:"name",width:120,sort:"text",header:[{text:"Страна"}]}]}]}},e}(s.b);e.default=a},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),a=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.config=function(){return{rows:[{view:"toolbar",cols:[{view:"label",label:"Не сведенные"}]},{view:"toolbar",cols:[{view:"text",value:""}]},{view:"datatable",navigation:"row",select:!0,resizeColumn:!0,fixedRowHeight:!1,rowLineHeight:32,rowHeight:32,editable:!1,footer:!0,headermenu:!0,columns:[{id:"idspr",sort:"int",width:75,header:[{text:"IDSPR"}]},{id:"mnn",fillspace:1,sort:"text",header:[{text:"Товар"}]},{id:"idspr",width:120,sort:"text",header:[{text:"Производитель"}]},{id:"name",width:100,sort:"text",header:[{text:"Страна"}]}]}]}},e}(s.b);e.default=a},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),a=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.config=function(){return{rows:[{view:"toolbar",height:40,cols:[{view:"label",label:"Общий поиск"},{},{view:"button",type:"form",label:"Проверка групп",width:180,click:function(){}},{view:"button",type:"form",label:"Добавить эталон",width:220},{view:"button",type:"form",label:"Линки",width:140},{view:"button",type:"form",label:"Штрихкоды",width:180}]}]}},e.prototype.init=function(){},e}(s.b);e.default=a},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),a=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.config=function(){var t=this;return{view:"toolbar",css:"header",cols:[{view:"label",label:"<a href='http://ms71.org'><span class='ms-logo'></span></a>",width:44,align:"center",height:36},{view:"label",label:"Манускрипт солюшн: linker",css:"ms-logo-text",height:36,width:250},{view:"label",label:"Текущий пользователь:  user",css:"ms-logo-text",width:300,height:36},{},{view:"button",id:"_adm",type:"form",label:"Админка",width:120},{view:"button",id:"_merge",type:"form",label:"Merger",width:80,click:function(){t.app.show("/start/body")}},{view:"button",id:"_group",type:"form",label:"Grouper",width:80,click:function(){t.app.show("/start/grouper")}},{view:"button",id:"_exit",type:"form",label:"Выйти",width:80}]}},e}(s.b);e.default=a},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=t.getChildViews(),o=n,i=Array.isArray(o),s=0,o=i?o:o[Symbol.iterator]();;){var a;if(i){if(s>=o.length)break;a=o[s++]}else{if(s=o.next(),s.done)break;a=s.value}var u=a,c=u;if(c.config.localId===e)return c;if(c=r(c,e))return c}return null}n.d(e,"a",function(){return i});var i=function(){function t(){o(this,t),this._id=webix.uid(),this._events=[],this._subs={}}return t.prototype.getRoot=function(){return this._root},t.prototype.destructor=function(){for(var t=this._events,e=t.length-1;e>=0;e--)t[e].obj.detachEvent(t[e].id);for(var n in this._subs){var o=this._subs[n].view;o&&o.destructor()}this._events=this._container=this._app=this._parent=null},t.prototype.render=function(t,e,n){var o=this;this._parent=n,e&&(this._index=e[0].index),t=t||document.body;var r="string"==typeof t?webix.toNode(t):t;return this._container!==r?(this._container=r,this._render(e).then(function(){return o.getRoot()})):this._urlChange(e).then(function(){return o.getRoot()})},t.prototype.getIndex=function(){return this._index},t.prototype.getId=function(){return this._id},t.prototype.getParentView=function(){return this._parent},t.prototype.$$=function(t){var e=webix.$$(t);return e||(e=r(this.getRoot(),t)),e},t.prototype.on=function(t,e,n){var o=t.attachEvent(e,n);return this._events.push({obj:t,id:o}),o},t.prototype.contains=function(t){for(var e in this._subs){var n=this._subs[e].view;if(n===t||n.contains(t))return!0}return!1},t.prototype.getSubView=function(t){var e=this._subs[t||"default"];return e?{subview:e,parent:this}:this._parent?this._parent.getSubView(t):null},t.prototype.getName=function(){return this._name},t}()},function(t,e,n){"use strict";function o(t){"/"===t[0]&&(t=t.substr(1));for(var e=t.split("/"),n=[],o=0;o<e.length;o++){var r=e[o],i={},s=r.indexOf(":");if(-1===s&&(s=r.indexOf("?")),-1!==s)for(var a=r.substr(s+1).split(/[\:\?\&]/g),u=a,c=Array.isArray(u),f=0,u=c?u:u[Symbol.iterator]();;){var l;if(c){if(f>=u.length)break;l=u[f++]}else{if(f=u.next(),f.done)break;l=f.value}var p=l,h=p.split("=");i[h[0]]=h[1]}n[o]={page:s>-1?r.substr(0,s):r,params:i,index:o+1}}return n}function r(t){for(var e=[],n=t,o=Array.isArray(n),r=0,n=o?n:n[Symbol.iterator]();;){var s;if(o){if(r>=n.length)break;s=n[r++]}else{if(r=n.next(),r.done)break;s=r.value}var a=s;e.push("/"+a.page);var u=i(a.params);u&&e.push(":"+u)}return e.join("")}function i(t){var e=[];for(var n in t)e.length&&e.push(":"),e.push(n+"="+t[n]);return e.join("")}e.a=o,e.b=r},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return s});var r=n(27),i=n.n(r),s=function(){function t(e,n){var r=this;o(this,t),this.config=n||{},this._prefix=this.config.routerPrefix,void 0===this._prefix&&(this._prefix="!");var s=function(t){};i()(this._prefix+"*",function(t){return r._lastUrl="",s(r.get())}),s=e}return t.prototype.set=function(t,e){if(this.config.routes){var n=t.split("?",2);for(var o in this.config.routes)if(this.config.routes[o]===n[0]){t=o+(n.length>1?"?"+n[1]:"");break}}this._lastUrl=t,i.a.navigate(this._prefix+t,e)},t.prototype.get=function(){var t=this._lastUrl||(window.location.hash||"").replace("#"+this._prefix,"");if(this.config.routes){var e=t.split("?",2),n=this.config.routes[e[0]];n&&(t=n+(e.length>1?"?"+e[1]:""))}return t},t}()},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),a=n(2),u=n(7),c=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.config=function(){return{view:"layout",css:"margin-zero",rows:[{$subview:a.default,name:"top_menu"},{$subview:u.default,name:"spr_dt"}]}},e.prototype.ready=function(t){},e}(s.b);e.default=c},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),a=(n(2),n(13)),u=n(9),c=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.config=function(){return{view:"layout",css:"margin-zero",rows:[{$subview:a.default,name:"gr_top"},{$subview:u.default,name:"gr_spr"}]}},e.prototype.ready=function(t){},e}(s.b);e.default=c},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),a=n(14),u=n(8),c=function(t){function e(){return o(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype.config=function(){return{type:"line",id:"main_ui",rows:[{$subview:a.default},{$subview:!0},{$subview:u.default}]}},e.prototype.init=function(){},e}(s.b);e.default=c},function(t,e){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(23),r=(n.n(o),n(0));webix.ready(function(){webix.protoUI({name:"cWindow",defaults:{modal:!1,move:!0,position:"center"},$init:function(t){webix.extend(t,{head:{view:"toolbar",cols:[{view:"label",label:"Название окна"},{view:"button",type:"icon",icon:"times",css:"times",height:26,width:26,click:function(){this.getTopParentView().hide()}}]}})}},webix.ui.window);var t=new r.a({id:"mainApp",name:"linker",version:"2017.334.1230",start:"/start/body",route:r.c,debug:!0});t.render(),t.attachEvent("app:error:resolve",function(t,e){window.console.error(e)})})},function(t,e){},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.d(e,"a",function(){return b});var s=n(15),a=n(1),u=n(25),c=n(26),f=n(17),l=n(16),p=n(28),h=(n.n(p),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}),b=function(t){function e(n){o(this,e);var i=r(this,t.call(this));return i.webix=n.webix||webix,i.config=i.webix.extend({name:"App",version:"1.0",start:"/home"},n,!0),i._name=i.config.name,i._services={},webix.extend(i,webix.EventSystem),webix.attachEvent("onClick",function(t){return i.clickHandler(t)}),i}return i(e,t),e.prototype.getService=function(t){var e=this._services[t];return"function"==typeof e&&(e=this._services[t]=e(this)),e},e.prototype.setService=function(t,e){this._services[t]=e},e.prototype.copyConfig=function(t,n,o){if(t.$ui?t={$subview:new u.a(this,"",t)}:t instanceof e&&(t={$subview:t}),t.$subview)return this.addSubView(t,n,o);n=n||(t instanceof Array?[]:{});for(var r in t){var i=t[r];"function"==typeof i&&i.prototype&&i.prototype.config&&(i={$subview:i}),!i||"object"!==(void 0===i?"undefined":h(i))||i instanceof webix.DataCollection?n[r]=i:i instanceof Date?n[r]=new Date(i):n[r]=this.copyConfig(i,i instanceof Array?[]:{},o)}return n},e.prototype.getRouter=function(){return this.$router},e.prototype.clickHandler=function(t){if(t){var e=t.target||t.srcElement;if(e&&e.getAttribute){var n=e.getAttribute("trigger");n&&this.trigger(n);var o=e.getAttribute("route");o&&this.show(o)}}},e.prototype.refresh=function(){var t=this._container;this._view.destructor(),this._view=this._container=null,this.render(t,Object(l.a)(this.getRouter().get()),this._parent)},e.prototype.loadView=function(t){var e=this,o=this.config.views,r=null;try{if(o&&"string"==typeof(r="function"==typeof o?o(t):o[t])&&(t=r,r=null),!r){t=t.replace(/\./g,"/");var i=n(29)("./"+t);i.__esModule&&(i=i.default),r=i}}catch(e){r=this._loadError(t,e)}return r.then||(r=Promise.resolve(r)),r=r.catch(function(n){return e._loadError(t,n)})},e.prototype.createFromURL=function(t,n){var o=this,r=t[0],i=r.page;return n&&n.getName()===i?Promise.resolve(n):this.loadView(r.page).then(function(t){if("function"==typeof t){if(t.prototype&&t.prototype.show)return new t(o,i);t=t()}return t instanceof e||t instanceof a.a?t:t.$ui?new u.a(o,i,t):new c.a(o,i,t)})},e.prototype.show=function(t){var e=this;this.$router.get()!==t&&this.canNavigate(t).then(function(t){e.$router.set(t,{silent:!0}),e._render(t)}).catch(function(){return!1})},e.prototype.canNavigate=function(t,e){var n={url:Object(l.a)(t),redirect:t,confirm:Promise.resolve(!0)};return this.callEvent("app:guard",[t,e||this._view,n])?n.confirm.then(function(){return n.redirect}):Promise.reject("")},e.prototype.destructor=function(){this._view.destructor()},e.prototype.trigger=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];this.apply(t,n)},e.prototype.apply=function(t,e){this.callEvent(t,e)},e.prototype.action=function(t){return this.webix.bind(function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];this.apply(t,n)},this)},e.prototype.on=function(t,e){this.attachEvent(t,e)},e.prototype.use=function(t,e){t(this,null,e)},e.prototype.error=function(t,e){this.callEvent(t,e),this.callEvent("app:error",e),this.config.debug&&e[0]&&console.error(e[0])},e.prototype._render=function(t){var e=this;!this.$router&&(t=this._first_start(t));var n="string"==typeof t?t:Object(l.b)(t);return this.canNavigate(n).then(function(t){return e.$router.set(t,{silent:!0}),e._render_stage(t)})},e.prototype._render_stage=function(t){var e=this,n="string"==typeof t?Object(l.a)(t):t;return webix.ui.freeze(function(){return e.createFromURL(n,e._view).then(function(t){var o=e._view;return e._view=t,t.render(e._container,n,e._parent).then(function(r){return o&&o!==e._view&&o.destructor(),e._view.getRoot().getParentView()&&(e._container=r),e._root=r,e.callEvent("app:route",[n]),t})}).catch(function(t){e.error("app:error:render",[t])})})},e.prototype._urlChange=function(t){return alert("Not implemented"),Promise.resolve(!0)},e.prototype._first_start=function(t){var e=this,n=function(t){return setTimeout(function(){e._render(t)},1)};if(this.$router=new(this.config.router||f.a)(n,this.config),this._container===document.body&&!1!==this.config.animation){var o=this._container;webix.html.addCss(o,"webixappstart"),setTimeout(function(){webix.html.removeCss(o,"webixappstart"),webix.html.addCss(o,"webixapp")},10)}return t&&1!==t.length||(t=this.$router.get()||this.config.start,this.$router.set(t,{silent:!0})),t},e.prototype._loadError=function(t,e){return this.error("app:error:resolve",[e,t]),{template:" "}},e.prototype.addSubView=function(t,e,n){var o=!0!==t.$subview?t.$subview:null,r=t.name||(o?this.webix.uid():"default");e.id=t.id||"s"+this.webix.uid();var i=n[r]={id:e.id,url:o};return i.url instanceof a.a&&(i.view=i.url),e},e}(s.a)},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.d(e,"a",function(){return a});var s=n(1),a=function(t){function e(n,i,s){o(this,e);var a=r(this,t.call(this,n,i));return a._ui=s,a._windows=[],a}return i(e,t),e.prototype.getRoot=function(){if(this.app.config.jet1xMode){var t=this.getParentView();if(t)return t.getRoot()}return this._root},e.prototype.config=function(){return this._ui.$ui||this._ui},e.prototype.destructor=function(){var e=this._ui.$ondestroy;e&&e();for(var n=this._windows,o=Array.isArray(n),r=0,n=o?n:n[Symbol.iterator]();;){var i;if(o){if(r>=n.length)break;i=n[r++]}else{if(r=n.next(),r.done)break;i=r.value}i.destructor()}t.prototype.destructor.call(this)},e.prototype.show=function(e,n){if(0===e.indexOf("/")||0===e.indexOf("./"))return t.prototype.show.call(this,e,n);t.prototype.show.call(this,"../"+e,n)},e.prototype.init=function(t,e){this.app.config.legacyEarlyInit&&this._realInitHandler(t,e)},e.prototype.ready=function(t,e){this.app.config.legacyEarlyInit||this._realInitHandler(t,e)},e.prototype._realInitHandler=function(t,n){var o=this._ui.$oninit;if(o){var r=this.getRoot();o(r,r.$scope)}var i=this._ui.$onevent;if(i)for(var s in i)this.on(this.app,s,i[s]);var a=this._ui.$windows;if(a)for(var u=a,c=Array.isArray(u),f=0,u=c?u:u[Symbol.iterator]();;){var l;if(c){if(f>=u.length)break;l=u[f++]}else{if(f=u.next(),f.done)break;l=f.value}var p=l;if(p.$ui){var h=new e(this.app,this.getName(),p);h.render(document.body),this._windows.push(h)}else this.ui(p)}},e.prototype._urlChange=function(e){var n=this;return t.prototype._urlChange.call(this,e).then(function(){var t=n._ui.$onurlchange;if(t){var o=n.getRoot();t(e[0].params,e.slice(1),o.$scope)}})},e}(s.a)},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.d(e,"a",function(){return a});var s=n(1),a=function(t){function e(n,i,s){o(this,e);var a=r(this,t.call(this,n,i));return a._ui=s,a}return i(e,t),e.prototype.config=function(){return this._ui},e}(s.a)},function(t,e,n){var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(t,e){var n,r=[],i={},s=t.routie,a=function(t,e){this.name=e,this.path=t,this.keys=[],this.fns=[],this.params={},this.regex=u(this.path,this.keys,!1,!1)};a.prototype.addHandler=function(t){this.fns.push(t)},a.prototype.removeHandler=function(t){for(var e=0,n=this.fns.length;e<n;e++){if(t==this.fns[e])return void this.fns.splice(e,1)}},a.prototype.run=function(t){for(var e=0,n=this.fns.length;e<n;e++)if(!1===this.fns[e].apply(this,t))return!1;return!0},a.prototype.match=function(t,e){var n=this.regex.exec(t);if(!n)return!1;for(var o=1,r=n.length;o<r;++o){var i=this.keys[o-1],s="string"==typeof n[o]?decodeURIComponent(n[o]):n[o];i&&(this.params[i.name]=s),e.push(s)}return!0},a.prototype.toURL=function(t){var e=this.path;for(var n in t)e=e.replace("/:"+n,"/"+t[n]);if(e=e.replace(/\/:.*\?/g,"/").replace(/\?/g,""),-1!=e.indexOf(":"))throw new Error("missing parameters for url: "+e);return e};var u=function(t,e,n,o){return t instanceof RegExp?t:(t instanceof Array&&(t="("+t.join("|")+")"),t=t.concat(o?"":"/?").replace(/\/\(/g,"(?:/").replace(/\+/g,"__plus__").replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(t,n,o,r,i,s){return e.push({name:r,optional:!!s}),n=n||"",(s?"":n)+"(?:"+(s?n:"")+(o||"")+(i||o&&"([^/.]+?)"||"([^/]+?)")+")"+(s||"")}).replace(/([\/.])/g,"\\$1").replace(/__plus__/g,"(.+)").replace(/\*/g,"(.*)"),new RegExp("^"+t+"$",n?"":"i"))},c=function(t,e){var n=t.split(" "),o=2==n.length?n[0]:null;t=2==n.length?n[1]:n[0],i[t]||(i[t]=new a(t,o),r.push(i[t])),i[t].addHandler(e)},f=function t(e,n){if("function"==typeof n)c(e,n),t.reload();else if("object"==(void 0===e?"undefined":o(e))){for(var r in e)c(r,e[r]);t.reload()}else void 0===n&&t.navigate(e)};f.lookup=function(t,e){for(var n=0,o=r.length;n<o;n++){var i=r[n];if(i.name==t)return i.toURL(e)}},f.remove=function(t,e){var n=i[t];n&&n.removeHandler(e)},f.removeAll=function(){i={},r=[],n=""},f.navigate=function(t,e){e=e||{};var n=e.silent||!1;n&&d(),setTimeout(function(){window.location.hash=t,n&&setTimeout(function(){b()},1)},1)},f.noConflict=function(){return t.routie=s,f};var l=function(){return window.location.hash.substring(1)},p=function(t,e){var n=[];return e.match(t,n)?!1!==e.run(n)?1:0:-1},h=f.reload=function(){for(var t=l(),e=0,o=r.length;e<o;e++){var i=r[e],s=p(t,i);if(1===s){n=t;break}if(0===s){f.navigate(n,{silent:!0});break}}},b=function(){t.addEventListener?t.addEventListener("hashchange",h,!1):t.attachEvent("onhashchange",h)},d=function(){t.removeEventListener?t.removeEventListener("hashchange",h):t.detachEvent("onhashchange",h)};if(b(),n=l(),e)return f;t.routie=f};t.exports=r(window,!0),t.exports.default=t.exports},function(t,e){var n=webix;n.ui.freeze||(n.ui.freeze=function(t){var e=t();return e&&e.then?e.then(function(t){return n.ui.$freeze=!1,n.ui.resize(),t}):(n.ui.$freeze=!1,n.ui.resize()),e})},function(t,e,n){function o(t){return n(r(t))}function r(t){var e=i[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var i={"./body":18,"./body.js":18,"./footer":8,"./footer.js":8,"./gr-body":9,"./gr-body.js":9,"./gr-center":10,"./gr-center.js":10,"./gr-left":11,"./gr-left.js":11,"./gr-right":12,"./gr-right.js":12,"./gr-top":13,"./gr-top.js":13,"./grouper":19,"./grouper.js":19,"./header":14,"./header.js":14,"./links_form":5,"./links_form.js":5,"./new_form":3,"./new_form.js":3,"./new_stri":4,"./new_stri.js":4,"./spr_dt":7,"./spr_dt.js":7,"./start":20,"./start.js":20,"./top-menu":2,"./top-menu.js":2,"./yes-no":6,"./yes-no.js":6};o.keys=function(){return Object.keys(i)},o.resolve=r,t.exports=o,o.id=29},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}!function(){function t(e,n){o(this,t),this.name=n.storeName||n.id+":route",this.cb=e}t.prototype.set=function(t,e){var n=this;webix.storage.session.put(this.name,t),e&&e.silent||setTimeout(function(){return n.cb(t)},1)},t.prototype.get=function(){return webix.storage.session.get(this.name)}}()},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return r});var r=function(){function t(e,n){o(this,t),this.cb=e,this.prefix=n.routerPrefix||""}return t.prototype.set=function(t,e){var n=this;window.history.pushState(null,null,this.prefix+t),e&&e.silent||setTimeout(function(){return n.cb(t)},1)},t.prototype.get=function(){var t=window.location.pathname.replace(this.prefix,"");return"/"!==t?t:""},t}()},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}!function(){function t(e,n){o(this,t),this.path="",this.cb=e}t.prototype.set=function(t,e){var n=this;this.path=t,e&&e.silent||setTimeout(function(){return n.cb(t)},1)},t.prototype.get=function(){return this.path}}()},function(t,e,n){"use strict";function o(t,e,n){e.on(t,"app:guard",function(t,o,r){if(o===e||o.contains(e)){var i=n();r.confirm=!1===i?Promise.reject(i):r.confirm.then(function(){return i})}})}e.a=o},function(t,e,n){"use strict";function o(t,e,o){o=o||{};var r=o.storage,s=r?r.get("lang"):o.lang||"en",a={_:null,polyglot:null,getLang:function(){return s},setLang:function(e,o){var u=n(36)("./"+e);u.__esModule&&(u=u.default);var c=a.polyglot=new i.a({phrases:u});c.locale(e),a._=webix.bind(c.t,c),s=e,r&&r.put("lang",s),o||t.refresh()}};t.setService("locale",a),a.setLang(s,!0)}e.a=o;var r=n(35),i=n.n(r)},function(t,e,n){var o,r,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(n,i){o=[],void 0!==(r=function(){return i(n)}.apply(e,o))&&(t.exports=r)}(this,function(t){"use strict";function e(t){t=t||{},this.phrases={},this.extend(t.phrases||{}),this.currentLocale=t.locale||"en",this.allowMissing=!!t.allowMissing,this.warn=t.warn||c}function n(t){var e,n,o,r={};for(e in t)if(t.hasOwnProperty(e)){n=t[e];for(o in n)r[n[o]]=e}return r}function o(t){var e=/^\s+|\s+$/g;return t.replace(e,"")}function r(t,e,n){var r,i,s;return null!=n&&t?(i=t.split(l),s=i[a(e,n)]||i[0],r=o(s)):r=t,r}function s(t){var e=n(h);return e[t]||e.en}function a(t,e){return p[s(t)](e)}function u(t,e){for(var n in e)"_"!==n&&e.hasOwnProperty(n)&&(t=t.replace(new RegExp("%\\{"+n+"\\}","g"),e[n]));return t}function c(e){t.console&&t.console.warn&&t.console.warn("WARNING: "+e)}function f(t){var e={};for(var n in t)e[n]=t[n];return e}e.VERSION="0.4.3",e.prototype.locale=function(t){return t&&(this.currentLocale=t),this.currentLocale},e.prototype.extend=function(t,e){var n;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],e&&(o=e+"."+o),"object"===(void 0===n?"undefined":i(n))?this.extend(n,o):this.phrases[o]=n)},e.prototype.clear=function(){this.phrases={}},e.prototype.replace=function(t){this.clear(),this.extend(t)},e.prototype.t=function(t,e){var n,o;return e=null==e?{}:e,"number"==typeof e&&(e={smart_count:e}),"string"==typeof this.phrases[t]?n=this.phrases[t]:"string"==typeof e._?n=e._:this.allowMissing?n=t:(this.warn('Missing translation for key: "'+t+'"'),o=t),"string"==typeof n&&(e=f(e),o=r(n,this.currentLocale,e.smart_count),o=u(o,e)),o},e.prototype.has=function(t){return t in this.phrases};var l="||||",p={chinese:function(t){return 0},german:function(t){return 1!==t?1:0},french:function(t){return t>1?1:0},russian:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},czech:function(t){return 1===t?0:t>=2&&t<=4?1:2},polish:function(t){return 1===t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},icelandic:function(t){return t%10!=1||t%100==11?1:0}},h={chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru"],czech:["cs"],polish:["pl"],icelandic:["is"]};return e})},function(t,e,n){function o(t){return n(r(t))}function r(t){var e=i[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var i={"./en":21,"./en.js":21};o.keys=function(){return Object.keys(i)},o.resolve=r,t.exports=o,o.id=36},function(t,e,n){"use strict";function o(t,e,n){e.urls&&(n=e.urls[n]||n),t.show("./"+n)}function r(t,e,n){var r=e.$$(n.id||n),i=!1;r.attachEvent("onchange",function(){i||o(e,n,this.getValue())}),r.attachEvent("onafterselect",function(){if(!i){var t=null;r.setValue?t=this.getValue():r.getSelectedId&&(t=r.getSelectedId()),o(e,n,t)}}),e.on(t,"app:route",function(t){var n=t[e.getIndex()];if(n){i=!0;var o=n.page;r.setValue&&r.getValue()!==o?r.setValue(o):r.select&&r.exists(o)&&r.getSelectedId()!==o&&r.select(o),i=!1}})}e.a=r},function(t,e,n){"use strict";function o(t,e,n){function o(t){var o=e.$$(n.target);o&&(t||(t="<div class='status_"+h+"'><span class='webix_icon fa-"+v[h]+"'></span> "+y[h]+"</div>"),o.setHTML(t))}function s(){b--,l("good")}function a(t){b--,l("error",t)}function u(t){b++,l("saving"),t&&t.then&&t.then(s,a)}function c(){return h}function f(){0==b&&o(" ")}function l(e,n){b<0&&(b=0),"saving"===e?(h="saving",o()):(d="error"===e,0===b&&(h=d?"error":"good",d?t.error("app:error:server",[n.responseText||n]):w&&setTimeout(f,w),o()))}function p(t){var n=webix.dp(t);n&&(e.on(n,"onAfterDataSend",u),e.on(n,"onAfterSaveError",function(t,e,n){return a(n)}),e.on(n,"onAfterSave",s))}var h="good",b=0,d=!1,w=n.expire;w||!1===w||(w=2e3);var y=n.texts||i,v=n.icons||r;"string"==typeof n&&(n={target:n}),t.setService("status",{getStatus:c,setStatus:l,track:p}),n.remote&&e.on(webix,"onRemoteCall",u),n.ajax&&e.on(webix,"onBeforeAjax",function(t,e,n,o,r,i,s){u(s)}),n.data&&p(n.data)}e.a=o;var r={good:"check",error:"warning",saving:"refresh fa-spin"},i={good:"Ok",error:"Error",saving:"Connecting..."}},function(t,e,n){"use strict";function o(t,e,n){n=n||{};var o=n.storage,r=o?o.get("theme"):n.theme||"flat-default",i={getTheme:function(){return r},setTheme:function(e,n){for(var i=e.split("-"),s=document.getElementsByTagName("link"),a=0;a<s.length;a++){var u=s[a].getAttribute("title");u&&(u===e||u===i[0]?(s[a].rel="stylesheet",s[a].disabled=!1):(s[a].rel="alternate stylesheet",s[a].disabled=!0),webix.skin.set(i[0])),webix.html.removeCss(document.body,"theme-"+r),webix.html.addCss(document.body,"theme-"+e)}r=e,o&&o.put("theme",e),n||t.refresh()}};t.setService("theme",i),i.setTheme(r,!0)}e.a=o},function(t,e,n){"use strict";function o(t,e,n){function o(t,e){t===i?(l.logout(),e.redirect=a):t===r||l.getStatus()||(e.redirect=r)}n=n||{};var r=n.login||"/login",i=n.logout||"/logout",s=n.afterLogin||t.config.start,a=n.afterLogout||"/login",u=n.ping||3e5,c=n.model,f=n.user,l={getUser:function(){return f},getStatus:function(t){return t?c.status().catch(function(){return null}).then(function(t){f=t}):null!==f},login:function(e,n){return c.login(e,n).then(function(e){if(f=e,!e)throw"Access denied";t.show(s)})},logout:function(){return f=null,c.logout()}};t.setService("user",l),t.attachEvent("app:guard",function(t,e,n){return void 0===f&&(n.confirm=l.getStatus(!0).then(function(e){return o(t,n)})),o(t,n)}),u&&setInterval(function(){return l.getStatus(!0)},u)}e.a=o}]);