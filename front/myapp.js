!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/codebase/",e(e.s=13)}([function(t,e,n){"use strict";var r=n(15);n.d(e,"a",function(){return r.a});var o=n(1);n.d(e,"b",function(){return o.a});var i=(n(10),n(21),n(22),n(23),n(24)),s=n(25),a=n(28),u=n(29),c=n(30),f=n(31);i.a,s.a,a.a,c.a,f.a,u.a;window.Promise||(window.Promise=webix.promise)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.d(e,"a",function(){return u});var s=n(8),a=n(9),u=function(t){function e(n,i){r(this,e);var s=o(this,t.call(this));return s.app=n,s._name=i,s._children=[],s}return i(e,t),e.prototype.ui=function(t,e){if("function"==typeof t){var n=new t(this.app,e);return this._children.push(n),n.render(),n}var r=this.app.webix.ui(t);return this._children.push(r),r},e.prototype.show=function(t,e){var n=this;if("string"==typeof t){if("/"===t.substr(0,1))return this.app.show(t);if(0===t.indexOf("./")&&(t=t.substr(2)),0===t.indexOf("../")){var r=this.getParentView();return void(r?r.show("./"+t.substr(3)):this.app.show("/"+t.substr(3)))}var o=this.getSubView();if(!o)return this.app.show("/"+t);if(o.parent!==this)return o.parent.show(t,e);var i=Object(a.a)(t),s=null,u=this.app.getRouter().get();if(this._index){s=Object(a.a)(u).slice(0,this._index).concat(i);for(var c=0;c<s.length;c++)s[c].index=c+1;var f=Object(a.b)(s);this.app.canNavigate(f,this).then(function(t){f!==t?n.app.show(t):n._finishShow(o.subview,s,t)}).catch(function(){return!1})}else this._finishShow(o.subview,i,"")}},e.prototype.init=function(t,e){},e.prototype.ready=function(t,e){},e.prototype.config=function(){this.app.webix.message("View:Config is not implemented")},e.prototype.urlChange=function(t,e){},e.prototype.destroy=function(){},e.prototype.destructor=function(){this.destroy();for(var e=this._children,n=e.length-1;n>=0;n--)e[n]&&e[n].destructor&&e[n].destructor();this.app=this._children=null,this._root.destructor(),t.prototype.destructor.call(this)},e.prototype.use=function(t,e){t(this.app,this,e)},e.prototype._render=function(t){var e=this,n=this.config();return n.then?n.then(function(n){return e._render_final(n,t)}):this._render_final(n,t)},e.prototype._render_final=function(t,e){var n=this,r=void 0,o={ui:{}};this.app.copyConfig(t,o.ui,this._subs),this.app.callEvent("app:render",[this,e,o]),o.ui.$scope=this;try{this._root=this.app.webix.ui(o.ui,this._container),this._root.getParentView()&&(this._container=this._root),this._init(this._root,e),r=this._urlChange(e).then(function(){return n.ready(n._root,e)})}catch(t){r=Promise.reject(t)}return r.catch(function(t){return n._initError(n,t)})},e.prototype._init=function(t,e){return this.init(t,e)},e.prototype._urlChange=function(t){var e=this,n=[];for(var r in this._subs){var o=this._subs[r];if(o.url)if("string"==typeof o.url){var i=Object(a.a)(o.url);n.push(this._createSubView(o,i))}else{var s=o.view;"function"!=typeof o.url||s instanceof o.url||(s=new o.url(this.app,"")),s||(s=o.url),n.push(this._renderSubView(o,s,t))}else if("default"===r&&t&&t.length>1){var u=t.slice(1);n.push(this._createSubView(o,u))}}return Promise.all(n).then(function(){e.urlChange(e._root,t)})},e.prototype._initError=function(t,e){return this.app.error("app:error:initview",[e,t]),!0},e.prototype._createSubView=function(t,e){var n=this;return this.app.createFromURL(e,t.view).then(function(r){return n._renderSubView(t,r,e)})},e.prototype._renderSubView=function(t,e,n){var r=this.app.webix.$$(t.id);return e.render(r,n,this).then(function(n){return t.view&&t.view!==e&&t.view.destructor(),t.view=e,t.id=n.config.id,n})},e.prototype._finishShow=function(t,e,n){this._index?(this._urlChange(e.slice(this._index-1)),this.app.getRouter().set(n,{silent:!0}),this.app.callEvent("app:route",[e])):this._createSubView(t,e)},e}(s.a)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),a=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return i(e,t),e.prototype.config=function(){return{view:"cWindow",modal:!0,body:{view:"form",localid:"new_form",margin:0,elements:[{rows:[{view:"text",label:"Название товара:   Название 1",labelPosition:"top",value:"Название 1"},{height:10,width:600},{cols:[{rows:[{view:"combo",label:"Страна:",labelPosition:"top",value:"",width:400},{view:"combo",label:"Производитель:Китай",labelPosition:"top",value:""},{view:"combo",label:"Действующее вещество:",labelPosition:"top",value:""},{view:"textarea",label:"Описание:",labelPosition:"top",value:"",height:150}]},{width:5},{rows:[{view:"form",css:"borders",elements:[{view:"label",label:"Рецептурный"},{view:"label",label:"Обязательный"},{view:"combo",label:"Сезон:",labelPosition:"top",value:""},{view:"combo",label:"Условия хранения:",labelPosition:"top",value:""},{view:"combo",label:"Группа:",labelPosition:"top",value:""},{view:"combo",label:"НДС:",labelPosition:"top",value:""}]}]}]}]}],on:{onBeforeShow:function(){},onShow:function(){}}}}},e.prototype.show=function(){this.getRoot().show()},e.prototype.hide=function(){this.getRoot().hide()},e}(s.b);e.default=a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),a=n(4),u=n(5),c=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return i(e,t),e.prototype.config=function(){return{view:"layout",css:"margin-zero",rows:[{$subview:a.default,name:"top_menu"},{$subview:u.default,name:"sprdt"}]}},e.prototype.ready=function(t){},e}(s.b);e.default=c},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),a=n(2),u=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return i(e,t),e.prototype.config=function(){return{rows:[{view:"toolbar",height:40,cols:[{view:"combo",width:250},{},{view:"button",id:"_links",type:"form",label:"Линки (<Ctrl>+L)",width:180}]},{view:"toolbar",css:"header",rows:[{view:"label",label:"<a href='http://ms71.org'><span>Название препарата</span></a>"},{view:"label",label:"Россия",css:"header"}]},{view:"toolbar",height:32,cols:[{view:"text",label:"",value:"",labelWidth:1},{view:"button",type:"form",label:"Добавить (<Ins>)",width:180,click:function(){this.$scope.popnew.show()}},{view:"button",type:"form",label:"Объединить (<Ctrl>+<Home>)",width:220},{view:"button",type:"form",label:"Пред (<Ctrl>+1)",width:140},{view:"button",type:"form",label:"Пропустить (<Ctrl>+M)",width:180},{view:"button",type:"form",label:"След (<Ctrl>+2)",width:140}]}]}},e.prototype.init=function(){this.popnew=this.ui(a.default)},e}(s.b);e.default=u},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),a=n(2),u=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return i(e,t),e.prototype.config=function(){return{view:"datatable",id:"__dt",navigation:"row",select:!0,resizeColumn:!0,fixedRowHeight:!1,rowLineHeight:32,rowHeight:32,editable:!1,footer:!0,headermenu:!0,columns:[{id:"mnn",width:75,header:[{text:"МНН"}],footer:{text:"Всего:",colspan:5,rowspan:1,height:24}},{id:"idspr",width:80,sort:"int",header:[{text:"IDSPR"},{content:"textFilter"}]},{id:"name",fillspace:1,sort:"text",header:[{text:"Название"},{content:"textFilter"}]},{id:"vendor",sort:"text",width:400,header:[{text:"Производитель"},{content:"textFilter"}]},{id:"country",sort:"text",width:250,header:[{text:"Страна"},{content:"textFilter"}]}],on:{onItemDblClick:function(){this.$scope.popnew.show()}},data:[{mnn:"есть",idspr:"11223",name:"Название  препарата № 1",vendor:"завод - Производитель 1",country:"Россия"},{mnn:"нет",idspr:"21223",name:"Название  препарата № 2",vendor:"завод - Производитель 2",country:"США"}]}},e.prototype.init=function(){this.popnew=this.ui(a.default)},e}(s.b);e.default=u},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),a=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return i(e,t),e.prototype.config=function(){return{view:"toolbar",css:"header",cols:[{view:"label",label:"Вы находитесь на сервере:   saas",css:"ms-logo-text",height:36},{},{view:"button",id:"__b41",type:"form",label:"Инфо",width:56}]}},e}(s.b);e.default=a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),a=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return i(e,t),e.prototype.config=function(){return{view:"toolbar",css:"header",cols:[{view:"label",label:"<a href='http://ms71.org'><span class='ms-logo'></span></a>",width:44,align:"center",height:36},{view:"label",label:"Манускрипт солюшн: linker",css:"ms-logo-text",height:36},{},{view:"label",label:"Текущий пользователь:  user",css:"ms-logo-text",width:300,height:36},{view:"button",id:"_exit",type:"form",label:"Выйти",width:80}]}},e}(s.b);e.default=a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=t.getChildViews(),r=n,i=Array.isArray(r),s=0,r=i?r:r[Symbol.iterator]();;){var a;if(i){if(s>=r.length)break;a=r[s++]}else{if(s=r.next(),s.done)break;a=s.value}var u=a,c=u;if(c.config.localId===e)return c;if(c=o(c,e))return c}return null}n.d(e,"a",function(){return i});var i=function(){function t(){r(this,t),this._id=webix.uid(),this._events=[],this._subs={}}return t.prototype.getRoot=function(){return this._root},t.prototype.destructor=function(){for(var t=this._events,e=t.length-1;e>=0;e--)t[e].obj.detachEvent(t[e].id);for(var n in this._subs){var r=this._subs[n].view;r&&r.destructor()}this._events=this._container=this._app=this._parent=null},t.prototype.render=function(t,e,n){var r=this;this._parent=n,e&&(this._index=e[0].index),t=t||document.body;var o="string"==typeof t?webix.toNode(t):t;return this._container!==o?(this._container=o,this._render(e).then(function(){return r.getRoot()})):this._urlChange(e).then(function(){return r.getRoot()})},t.prototype.getIndex=function(){return this._index},t.prototype.getId=function(){return this._id},t.prototype.getParentView=function(){return this._parent},t.prototype.$$=function(t){var e=webix.$$(t);return e||(e=o(this.getRoot(),t)),e},t.prototype.on=function(t,e,n){var r=t.attachEvent(e,n);return this._events.push({obj:t,id:r}),r},t.prototype.contains=function(t){for(var e in this._subs){var n=this._subs[e].view;if(n===t||n.contains(t))return!0}return!1},t.prototype.getSubView=function(t){var e=this._subs[t||"default"];return e?{subview:e,parent:this}:this._parent?this._parent.getSubView(t):null},t.prototype.getName=function(){return this._name},t}()},function(t,e,n){"use strict";function r(t){"/"===t[0]&&(t=t.substr(1));for(var e=t.split("/"),n=[],r=0;r<e.length;r++){var o=e[r],i={},s=o.indexOf(":");if(-1===s&&(s=o.indexOf("?")),-1!==s)for(var a=o.substr(s+1).split(/[\:\?\&]/g),u=a,c=Array.isArray(u),f=0,u=c?u:u[Symbol.iterator]();;){var l;if(c){if(f>=u.length)break;l=u[f++]}else{if(f=u.next(),f.done)break;l=f.value}var p=l,h=p.split("=");i[h[0]]=h[1]}n[r]={page:s>-1?o.substr(0,s):o,params:i,index:r+1}}return n}function o(t){for(var e=[],n=t,r=Array.isArray(n),o=0,n=r?n:n[Symbol.iterator]();;){var s;if(r){if(o>=n.length)break;s=n[o++]}else{if(o=n.next(),o.done)break;s=o.value}var a=s;e.push("/"+a.page);var u=i(a.params);u&&e.push(":"+u)}return e.join("")}function i(t){var e=[];for(var n in t)e.length&&e.push(":"),e.push(n+"="+t[n]);return e.join("")}e.a=r,e.b=o},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return s});var o=n(18),i=n.n(o),s=function(){function t(e,n){var o=this;r(this,t),this.config=n||{},this._prefix=this.config.routerPrefix,void 0===this._prefix&&(this._prefix="!");var s=function(t){};i()(this._prefix+"*",function(t){return o._lastUrl="",s(o.get())}),s=e}return t.prototype.set=function(t,e){if(this.config.routes){var n=t.split("?",2);for(var r in this.config.routes)if(this.config.routes[r]===n[0]){t=r+(n.length>1?"?"+n[1]:"");break}}this._lastUrl=t,i.a.navigate(this._prefix+t,e)},t.prototype.get=function(){var t=this._lastUrl||(window.location.hash||"").replace("#"+this._prefix,"");if(this.config.routes){var e=t.split("?",2),n=this.config.routes[e[0]];n&&(t=n+(e.length>1?"?"+e[1]:""))}return t},t}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),a=n(7),u=n(6),c=n(3),f=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return i(e,t),e.prototype.config=function(){return{type:"line",id:"main_ui",rows:[{$subview:a.default},{$subview:c.default},{$subview:u.default}]}},e.prototype.init=function(){},e}(s.b);e.default=f},function(t,e){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(14),o=(n.n(r),n(0));webix.ready(function(){webix.protoUI({name:"cWindow",defaults:{modal:!1,move:!0,position:"center"},$init:function(t){webix.extend(t,{head:{view:"toolbar",cols:[{},{view:"button",type:"icon",icon:"times",css:"times",height:26,width:26,click:function(){this.getTopParentView().hide()}}]}})}},webix.ui.window);var t=new o.a({id:"mainApp",name:"superwizard",version:"2017.334.1230",start:"/start/",debug:!0});t.render(),t.attachEvent("app:error:resolve",function(t,e){window.console.error(e)})})},function(t,e){},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.d(e,"a",function(){return d});var s=n(8),a=n(1),u=n(16),c=n(17),f=n(10),l=n(9),p=n(19),h=(n.n(p),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}),d=function(t){function e(n){r(this,e);var i=o(this,t.call(this));return i.webix=n.webix||webix,i.config=i.webix.extend({name:"App",version:"1.0",start:"/home"},n,!0),i._name=i.config.name,i._services={},webix.extend(i,webix.EventSystem),webix.attachEvent("onClick",function(t){return i.clickHandler(t)}),i}return i(e,t),e.prototype.getService=function(t){var e=this._services[t];return"function"==typeof e&&(e=this._services[t]=e(this)),e},e.prototype.setService=function(t,e){this._services[t]=e},e.prototype.copyConfig=function(t,n,r){if(t.$ui?t={$subview:new u.a(this,"",t)}:t instanceof e&&(t={$subview:t}),t.$subview)return this.addSubView(t,n,r);n=n||(t instanceof Array?[]:{});for(var o in t){var i=t[o];"function"==typeof i&&i.prototype&&i.prototype.config&&(i={$subview:i}),!i||"object"!==(void 0===i?"undefined":h(i))||i instanceof webix.DataCollection?n[o]=i:i instanceof Date?n[o]=new Date(i):n[o]=this.copyConfig(i,i instanceof Array?[]:{},r)}return n},e.prototype.getRouter=function(){return this.$router},e.prototype.clickHandler=function(t){if(t){var e=t.target||t.srcElement;if(e&&e.getAttribute){var n=e.getAttribute("trigger");n&&this.trigger(n);var r=e.getAttribute("route");r&&this.show(r)}}},e.prototype.refresh=function(){var t=this._container;this._view.destructor(),this._view=this._container=null,this.render(t,Object(l.a)(this.getRouter().get()),this._parent)},e.prototype.loadView=function(t){var e=this,r=this.config.views,o=null;try{if(r&&"string"==typeof(o="function"==typeof r?r(t):r[t])&&(t=o,o=null),!o){t=t.replace(/\./g,"/");var i=n(20)("./"+t);i.__esModule&&(i=i.default),o=i}}catch(e){o=this._loadError(t,e)}return o.then||(o=Promise.resolve(o)),o=o.catch(function(n){return e._loadError(t,n)})},e.prototype.createFromURL=function(t,n){var r=this,o=t[0],i=o.page;return n&&n.getName()===i?Promise.resolve(n):this.loadView(o.page).then(function(t){if("function"==typeof t){if(t.prototype&&t.prototype.show)return new t(r,i);t=t()}return t instanceof e||t instanceof a.a?t:t.$ui?new u.a(r,i,t):new c.a(r,i,t)})},e.prototype.show=function(t){var e=this;this.$router.get()!==t&&this.canNavigate(t).then(function(t){e.$router.set(t,{silent:!0}),e._render(t)}).catch(function(){return!1})},e.prototype.canNavigate=function(t,e){var n={url:Object(l.a)(t),redirect:t,confirm:Promise.resolve(!0)};return this.callEvent("app:guard",[t,e||this._view,n])?n.confirm.then(function(){return n.redirect}):Promise.reject("")},e.prototype.destructor=function(){this._view.destructor()},e.prototype.trigger=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.apply(t,n)},e.prototype.apply=function(t,e){this.callEvent(t,e)},e.prototype.action=function(t){return this.webix.bind(function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];this.apply(t,n)},this)},e.prototype.on=function(t,e){this.attachEvent(t,e)},e.prototype.use=function(t,e){t(this,null,e)},e.prototype.error=function(t,e){this.callEvent(t,e),this.callEvent("app:error",e),this.config.debug&&e[0]&&console.error(e[0])},e.prototype._render=function(t){var e=this;!this.$router&&(t=this._first_start(t));var n="string"==typeof t?t:Object(l.b)(t);return this.canNavigate(n).then(function(t){return e.$router.set(t,{silent:!0}),e._render_stage(t)})},e.prototype._render_stage=function(t){var e=this,n="string"==typeof t?Object(l.a)(t):t;return webix.ui.freeze(function(){return e.createFromURL(n,e._view).then(function(t){var r=e._view;return e._view=t,t.render(e._container,n,e._parent).then(function(o){return r&&r!==e._view&&r.destructor(),e._view.getRoot().getParentView()&&(e._container=o),e._root=o,e.callEvent("app:route",[n]),t})}).catch(function(t){e.error("app:error:render",[t])})})},e.prototype._urlChange=function(t){return alert("Not implemented"),Promise.resolve(!0)},e.prototype._first_start=function(t){var e=this,n=function(t){return setTimeout(function(){e._render(t)},1)};if(this.$router=new(this.config.router||f.a)(n,this.config),this._container===document.body&&!1!==this.config.animation){var r=this._container;webix.html.addCss(r,"webixappstart"),setTimeout(function(){webix.html.removeCss(r,"webixappstart"),webix.html.addCss(r,"webixapp")},10)}return t&&1!==t.length||(t=this.$router.get()||this.config.start,this.$router.set(t,{silent:!0})),t},e.prototype._loadError=function(t,e){return this.error("app:error:resolve",[e,t]),{template:" "}},e.prototype.addSubView=function(t,e,n){var r=!0!==t.$subview?t.$subview:null,o=t.name||(r?this.webix.uid():"default");e.id=t.id||"s"+this.webix.uid();var i=n[o]={id:e.id,url:r};return i.url instanceof a.a&&(i.view=i.url),e},e}(s.a)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.d(e,"a",function(){return a});var s=n(1),a=function(t){function e(n,i,s){r(this,e);var a=o(this,t.call(this,n,i));return a._ui=s,a._windows=[],a}return i(e,t),e.prototype.getRoot=function(){if(this.app.config.jet1xMode){var t=this.getParentView();if(t)return t.getRoot()}return this._root},e.prototype.config=function(){return this._ui.$ui||this._ui},e.prototype.destructor=function(){var e=this._ui.$ondestroy;e&&e();for(var n=this._windows,r=Array.isArray(n),o=0,n=r?n:n[Symbol.iterator]();;){var i;if(r){if(o>=n.length)break;i=n[o++]}else{if(o=n.next(),o.done)break;i=o.value}i.destructor()}t.prototype.destructor.call(this)},e.prototype.show=function(e,n){if(0===e.indexOf("/")||0===e.indexOf("./"))return t.prototype.show.call(this,e,n);t.prototype.show.call(this,"../"+e,n)},e.prototype.init=function(t,e){this.app.config.legacyEarlyInit&&this._realInitHandler(t,e)},e.prototype.ready=function(t,e){this.app.config.legacyEarlyInit||this._realInitHandler(t,e)},e.prototype._realInitHandler=function(t,n){var r=this._ui.$oninit;if(r){var o=this.getRoot();r(o,o.$scope)}var i=this._ui.$onevent;if(i)for(var s in i)this.on(this.app,s,i[s]);var a=this._ui.$windows;if(a)for(var u=a,c=Array.isArray(u),f=0,u=c?u:u[Symbol.iterator]();;){var l;if(c){if(f>=u.length)break;l=u[f++]}else{if(f=u.next(),f.done)break;l=f.value}var p=l;if(p.$ui){var h=new e(this.app,this.getName(),p);h.render(document.body),this._windows.push(h)}else this.ui(p)}},e.prototype._urlChange=function(e){var n=this;return t.prototype._urlChange.call(this,e).then(function(){var t=n._ui.$onurlchange;if(t){var r=n.getRoot();t(e[0].params,e.slice(1),r.$scope)}})},e}(s.a)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.d(e,"a",function(){return a});var s=n(1),a=function(t){function e(n,i,s){r(this,e);var a=o(this,t.call(this,n,i));return a._ui=s,a}return i(e,t),e.prototype.config=function(){return this._ui},e}(s.a)},function(t,e,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t,e){var n,o=[],i={},s=t.routie,a=function(t,e){this.name=e,this.path=t,this.keys=[],this.fns=[],this.params={},this.regex=u(this.path,this.keys,!1,!1)};a.prototype.addHandler=function(t){this.fns.push(t)},a.prototype.removeHandler=function(t){for(var e=0,n=this.fns.length;e<n;e++){if(t==this.fns[e])return void this.fns.splice(e,1)}},a.prototype.run=function(t){for(var e=0,n=this.fns.length;e<n;e++)if(!1===this.fns[e].apply(this,t))return!1;return!0},a.prototype.match=function(t,e){var n=this.regex.exec(t);if(!n)return!1;for(var r=1,o=n.length;r<o;++r){var i=this.keys[r-1],s="string"==typeof n[r]?decodeURIComponent(n[r]):n[r];i&&(this.params[i.name]=s),e.push(s)}return!0},a.prototype.toURL=function(t){var e=this.path;for(var n in t)e=e.replace("/:"+n,"/"+t[n]);if(e=e.replace(/\/:.*\?/g,"/").replace(/\?/g,""),-1!=e.indexOf(":"))throw new Error("missing parameters for url: "+e);return e};var u=function(t,e,n,r){return t instanceof RegExp?t:(t instanceof Array&&(t="("+t.join("|")+")"),t=t.concat(r?"":"/?").replace(/\/\(/g,"(?:/").replace(/\+/g,"__plus__").replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(t,n,r,o,i,s){return e.push({name:o,optional:!!s}),n=n||"",(s?"":n)+"(?:"+(s?n:"")+(r||"")+(i||r&&"([^/.]+?)"||"([^/]+?)")+")"+(s||"")}).replace(/([\/.])/g,"\\$1").replace(/__plus__/g,"(.+)").replace(/\*/g,"(.*)"),new RegExp("^"+t+"$",n?"":"i"))},c=function(t,e){var n=t.split(" "),r=2==n.length?n[0]:null;t=2==n.length?n[1]:n[0],i[t]||(i[t]=new a(t,r),o.push(i[t])),i[t].addHandler(e)},f=function t(e,n){if("function"==typeof n)c(e,n),t.reload();else if("object"==(void 0===e?"undefined":r(e))){for(var o in e)c(o,e[o]);t.reload()}else void 0===n&&t.navigate(e)};f.lookup=function(t,e){for(var n=0,r=o.length;n<r;n++){var i=o[n];if(i.name==t)return i.toURL(e)}},f.remove=function(t,e){var n=i[t];n&&n.removeHandler(e)},f.removeAll=function(){i={},o=[],n=""},f.navigate=function(t,e){e=e||{};var n=e.silent||!1;n&&y(),setTimeout(function(){window.location.hash=t,n&&setTimeout(function(){d()},1)},1)},f.noConflict=function(){return t.routie=s,f};var l=function(){return window.location.hash.substring(1)},p=function(t,e){var n=[];return e.match(t,n)?!1!==e.run(n)?1:0:-1},h=f.reload=function(){for(var t=l(),e=0,r=o.length;e<r;e++){var i=o[e],s=p(t,i);if(1===s){n=t;break}if(0===s){f.navigate(n,{silent:!0});break}}},d=function(){t.addEventListener?t.addEventListener("hashchange",h,!1):t.attachEvent("onhashchange",h)},y=function(){t.removeEventListener?t.removeEventListener("hashchange",h):t.detachEvent("onhashchange",h)};if(d(),n=l(),e)return f;t.routie=f};t.exports=o(window,!0),t.exports.default=t.exports},function(t,e){var n=webix;n.ui.freeze||(n.ui.freeze=function(t){var e=t();return e&&e.then?e.then(function(t){return n.ui.$freeze=!1,n.ui.resize(),t}):(n.ui.$freeze=!1,n.ui.resize()),e})},function(t,e,n){function r(t){return n(o(t))}function o(t){var e=i[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var i={"./body":3,"./body.js":3,"./footer":6,"./footer.js":6,"./header":7,"./header.js":7,"./new_form":2,"./new_form.js":2,"./spr_dt":5,"./spr_dt.js":5,"./start":11,"./start.js":11,"./top-menu":4,"./top-menu.js":4};r.keys=function(){return Object.keys(i)},r.resolve=o,t.exports=r,r.id=20},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}!function(){function t(e,n){r(this,t),this.name=n.storeName||n.id+":route",this.cb=e}t.prototype.set=function(t,e){var n=this;webix.storage.session.put(this.name,t),e&&e.silent||setTimeout(function(){return n.cb(t)},1)},t.prototype.get=function(){return webix.storage.session.get(this.name)}}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}!function(){function t(e,n){r(this,t),this.cb=e,this.prefix=n.routerPrefix||""}t.prototype.set=function(t,e){var n=this;window.history.pushState(null,null,this.prefix+t),e&&e.silent||setTimeout(function(){return n.cb(t)},1)},t.prototype.get=function(){var t=window.location.pathname.replace(this.prefix,"");return"/"!==t?t:""}}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}!function(){function t(e,n){r(this,t),this.path="",this.cb=e}t.prototype.set=function(t,e){var n=this;this.path=t,e&&e.silent||setTimeout(function(){return n.cb(t)},1)},t.prototype.get=function(){return this.path}}()},function(t,e,n){"use strict";function r(t,e,n){e.on(t,"app:guard",function(t,r,o){if(r===e||r.contains(e)){var i=n();o.confirm=!1===i?Promise.reject(i):o.confirm.then(function(){return i})}})}e.a=r},function(t,e,n){"use strict";function r(t,e,r){r=r||{};var o=r.storage,s=o?o.get("lang"):r.lang||"en",a={_:null,polyglot:null,getLang:function(){return s},setLang:function(e,r){var u=n(27)("./"+e);u.__esModule&&(u=u.default);var c=a.polyglot=new i.a({phrases:u});c.locale(e),a._=webix.bind(c.t,c),s=e,o&&o.put("lang",s),r||t.refresh()}};t.setService("locale",a),a.setLang(s,!0)}e.a=r;var o=n(26),i=n.n(o)},function(t,e,n){var r,o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(n,i){r=[],void 0!==(o=function(){return i(n)}.apply(e,r))&&(t.exports=o)}(this,function(t){"use strict";function e(t){t=t||{},this.phrases={},this.extend(t.phrases||{}),this.currentLocale=t.locale||"en",this.allowMissing=!!t.allowMissing,this.warn=t.warn||c}function n(t){var e,n,r,o={};for(e in t)if(t.hasOwnProperty(e)){n=t[e];for(r in n)o[n[r]]=e}return o}function r(t){var e=/^\s+|\s+$/g;return t.replace(e,"")}function o(t,e,n){var o,i,s;return null!=n&&t?(i=t.split(l),s=i[a(e,n)]||i[0],o=r(s)):o=t,o}function s(t){var e=n(h);return e[t]||e.en}function a(t,e){return p[s(t)](e)}function u(t,e){for(var n in e)"_"!==n&&e.hasOwnProperty(n)&&(t=t.replace(new RegExp("%\\{"+n+"\\}","g"),e[n]));return t}function c(e){t.console&&t.console.warn&&t.console.warn("WARNING: "+e)}function f(t){var e={};for(var n in t)e[n]=t[n];return e}e.VERSION="0.4.3",e.prototype.locale=function(t){return t&&(this.currentLocale=t),this.currentLocale},e.prototype.extend=function(t,e){var n;for(var r in t)t.hasOwnProperty(r)&&(n=t[r],e&&(r=e+"."+r),"object"===(void 0===n?"undefined":i(n))?this.extend(n,r):this.phrases[r]=n)},e.prototype.clear=function(){this.phrases={}},e.prototype.replace=function(t){this.clear(),this.extend(t)},e.prototype.t=function(t,e){var n,r;return e=null==e?{}:e,"number"==typeof e&&(e={smart_count:e}),"string"==typeof this.phrases[t]?n=this.phrases[t]:"string"==typeof e._?n=e._:this.allowMissing?n=t:(this.warn('Missing translation for key: "'+t+'"'),r=t),"string"==typeof n&&(e=f(e),r=o(n,this.currentLocale,e.smart_count),r=u(r,e)),r},e.prototype.has=function(t){return t in this.phrases};var l="||||",p={chinese:function(t){return 0},german:function(t){return 1!==t?1:0},french:function(t){return t>1?1:0},russian:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},czech:function(t){return 1===t?0:t>=2&&t<=4?1:2},polish:function(t){return 1===t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},icelandic:function(t){return t%10!=1||t%100==11?1:0}},h={chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru"],czech:["cs"],polish:["pl"],icelandic:["is"]};return e})},function(t,e,n){function r(t){return n(o(t))}function o(t){var e=i[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var i={"./en":12,"./en.js":12};r.keys=function(){return Object.keys(i)},r.resolve=o,t.exports=r,r.id=27},function(t,e,n){"use strict";function r(t,e,n){e.urls&&(n=e.urls[n]||n),t.show("./"+n)}function o(t,e,n){var o=e.$$(n.id||n),i=!1;o.attachEvent("onchange",function(){i||r(e,n,this.getValue())}),o.attachEvent("onafterselect",function(){if(!i){var t=null;o.setValue?t=this.getValue():o.getSelectedId&&(t=o.getSelectedId()),r(e,n,t)}}),e.on(t,"app:route",function(t){var n=t[e.getIndex()];if(n){i=!0;var r=n.page;o.setValue&&o.getValue()!==r?o.setValue(r):o.select&&o.exists(r)&&o.getSelectedId()!==r&&o.select(r),i=!1}})}e.a=o},function(t,e,n){"use strict";function r(t,e,n){function r(t){var r=e.$$(n.target);r&&(t||(t="<div class='status_"+h+"'><span class='webix_icon fa-"+w[h]+"'></span> "+v[h]+"</div>"),r.setHTML(t))}function s(){d--,l("good")}function a(t){d--,l("error",t)}function u(t){d++,l("saving"),t&&t.then&&t.then(s,a)}function c(){return h}function f(){0==d&&r(" ")}function l(e,n){d<0&&(d=0),"saving"===e?(h="saving",r()):(y="error"===e,0===d&&(h=y?"error":"good",y?t.error("app:error:server",[n.responseText||n]):b&&setTimeout(f,b),r()))}function p(t){var n=webix.dp(t);n&&(e.on(n,"onAfterDataSend",u),e.on(n,"onAfterSaveError",function(t,e,n){return a(n)}),e.on(n,"onAfterSave",s))}var h="good",d=0,y=!1,b=n.expire;b||!1===b||(b=2e3);var v=n.texts||i,w=n.icons||o;"string"==typeof n&&(n={target:n}),t.setService("status",{getStatus:c,setStatus:l,track:p}),n.remote&&e.on(webix,"onRemoteCall",u),n.ajax&&e.on(webix,"onBeforeAjax",function(t,e,n,r,o,i,s){u(s)}),n.data&&p(n.data)}e.a=r;var o={good:"check",error:"warning",saving:"refresh fa-spin"},i={good:"Ok",error:"Error",saving:"Connecting..."}},function(t,e,n){"use strict";function r(t,e,n){n=n||{};var r=n.storage,o=r?r.get("theme"):n.theme||"flat-default",i={getTheme:function(){return o},setTheme:function(e,n){for(var i=e.split("-"),s=document.getElementsByTagName("link"),a=0;a<s.length;a++){var u=s[a].getAttribute("title");u&&(u===e||u===i[0]?(s[a].rel="stylesheet",s[a].disabled=!1):(s[a].rel="alternate stylesheet",s[a].disabled=!0),webix.skin.set(i[0])),webix.html.removeCss(document.body,"theme-"+o),webix.html.addCss(document.body,"theme-"+e)}o=e,r&&r.put("theme",e),n||t.refresh()}};t.setService("theme",i),i.setTheme(o,!0)}e.a=r},function(t,e,n){"use strict";function r(t,e,n){function r(t,e){t===i?(l.logout(),e.redirect=a):t===o||l.getStatus()||(e.redirect=o)}n=n||{};var o=n.login||"/login",i=n.logout||"/logout",s=n.afterLogin||t.config.start,a=n.afterLogout||"/login",u=n.ping||3e5,c=n.model,f=n.user,l={getUser:function(){return f},getStatus:function(t){return t?c.status().catch(function(){return null}).then(function(t){f=t}):null!==f},login:function(e,n){return c.login(e,n).then(function(e){if(f=e,!e)throw"Access denied";t.show(s)})},logout:function(){return f=null,c.logout()}};t.setService("user",l),t.attachEvent("app:guard",function(t,e,n){return void 0===f&&(n.confirm=l.getStatus(!0).then(function(e){return r(t,n)})),r(t,n)}),u&&setInterval(function(){return l.getStatus(!0)},u)}e.a=r}]);